#!/bin/bash

# download Genome Browser application binaries for stand-alone use for Linux 64-bit machine
# see https://hgdownload.cse.ucsc.edu/admin/exe 

# directory where this script resides
PARENT=$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )

# for description see below or online
exe=( fetchChromSizes bedGraphToBigWig bedToBigBed hubCheck bigBedInfo bigBedSummary bigWigInfo bigWigSummary )

for e in "${exe[@]}"
do
	rsync -aP rsync://hgdownload.soe.ucsc.edu/genome/admin/exe/linux.x86_64/$e $PARENT/
done

# add temporarily to path, else modify ~/.bashrc or link these binaries to a place where they will be seen
export PATH="$PATH:$PARENT"


# selected FOOTER.txt

# ================================================================
# ========   fetchChromSizes   ====================================
# ================================================================
# fetchChromSizes - script to grab chrom.sizes from UCSC via either of: mysql, wget or ftp
# 
# usage: fetchChromSizes <db> > <db>.chrom.sizes
#     used to fetch chrom.sizes information from UCSC for the given <db>
# <db> - name of UCSC database, e.g.: hg38, hg18, mm9, etc ...
# 
# This script expects to find one of the following commands:
#     wget, mysql, or ftp in order to fetch information from UCSC.
# Route the output to the file <db>.chrom.sizes as indicated above.
# This data is available at the URL:
#   http://hgdownload.soe.ucsc.edu/goldenPath/<db>/bigZips/<db>.chrom.sizes
#   
#   
# ================================================================
# ========   bedGraphToBigWig   ====================================
# ================================================================
# ### kent source version 407 ###
# bedGraphToBigWig v 2.8 - Convert a bedGraph file to bigWig format (bbi version: 4).
# usage:
#    bedGraphToBigWig in.bedGraph chrom.sizes out.bw
# where in.bedGraph is a four column file in the format:
#       <chrom> <start> <end> <value>
# and chrom.sizes is a two-column file/URL: <chromosome name> <size in bases>
# and out.bw is the output indexed big wig file.
# If the assembly <db> is hosted by UCSC, chrom.sizes can be a URL like
#   http://hgdownload.soe.ucsc.edu/goldenPath/<db>/bigZips/<db>.chrom.sizes
# or you may use the script fetchChromSizes to download the chrom.sizes file.
# If not hosted by UCSC, a chrom.sizes file can be generated by running
# twoBitInfo on the assembly .2bit file.
# The input bedGraph file must be sorted, use the unix sort command:
#   sort -k1,1 -k2,2n unsorted.bedGraph > sorted.bedGraph
# options:
#    -blockSize=N - Number of items to bundle in r-tree.  Default 256
#    -itemsPerSlot=N - Number of data points bundled at lowest level. Default 1024
#    -unc - If set, do not use compression.
#    
#    
# ================================================================
# ========   bedToBigBed   ====================================
# ================================================================
# ### kent source version 407 ###
# bedToBigBed v. 2.8 - Convert bed file to bigBed. (bbi version: 4)
# usage:
#    bedToBigBed in.bed chrom.sizes out.bb
# Where in.bed is in one of the ascii bed formats, but not including track lines
# and chrom.sizes is a two-column file/URL: <chromosome name> <size in bases>
# and out.bb is the output indexed big bed file.
# If the assembly <db> is hosted by UCSC, chrom.sizes can be a URL like
#   http://hgdownload.soe.ucsc.edu/goldenPath/<db>/bigZips/<db>.chrom.sizes
# or you may use the script fetchChromSizes to download the chrom.sizes file.
# If you have bed annotations on patch sequences from NCBI, a more inclusive
# chrom.sizes file can be found using a URL like
#   http://hgdownload.soe.ucsc.edu/goldenPath/<db>/database/chromInfo.txt.gz
# If not hosted by UCSC, a chrom.sizes file can be generated by running
# twoBitInfo on the assembly .2bit file.
# The in.bed file must be sorted by chromosome,start,
#   to sort a bed file, use the unix sort command:
#      sort -k1,1 -k2,2n unsorted.bed > sorted.bed
# Sorting must be set to skip Unicode mapping (LC_COLLATE=C).
# 
# options:
#    -type=bedN[+[P]] : 
#                       N is between 3 and 15, 
#                       optional (+) if extra "bedPlus" fields, 
#                       optional P specifies the number of extra fields. Not required, but preferred.
#                       Examples: -type=bed6 or -type=bed6+ or -type=bed6+3 
#                       (see http://genome.ucsc.edu/FAQ/FAQformat.html#format1)
#    -as=fields.as - If you have non-standard "bedPlus" fields, it's great to put a definition
#                    of each field in a row in AutoSql format here.
#    -blockSize=N - Number of items to bundle in r-tree.  Default 256
#    -itemsPerSlot=N - Number of data points bundled at lowest level. Default 512
#    -unc - If set, do not use compression.
#    -tab - If set, expect fields to be tab separated, normally
#            expects white space separator.
#    -extraIndex=fieldList - If set, make an index on each field in a comma separated list
#            extraIndex=name and extraIndex=name,id are commonly used.
#    -sizesIs2Bit  -- If set, the chrom.sizes file is assumed to be a 2bit file.
#    -udcDir=/path/to/udcCacheDir  -- sets the UDC cache dir for caching of remote files.
#    -allow1bpOverlap  -- allow exons to overlap by at most one base pair
#    -maxAlloc=N -- Set the maximum memory allocation size to N bytes
#    
# 
# ================================================================
# ========   hubCheck   ====================================
# ================================================================
# ### kent source version 407 ###
# hubCheck - Check a track data hub for integrity.
# usage:
#    hubCheck http://yourHost/yourDir/hub.txt
# options:
#    -noTracks             - don't check remote files for tracks, just trackDb (faster)
#    -checkSettings        - check trackDb settings to spec
#    -version=[v?|url]     - version to validate settings against
#                                      (defaults to version in hub.txt, or current standard)
#    -extra=[file|url]     - accept settings in this file (or url)
#    -level=base|required  - reject settings below this support level
#    -settings             - just list settings with support level
#    -udcDir=/dir/to/cache - place to put cache for remote bigBed/bigWigs.
#                                      Will create this directory if not existing
#    -printMeta            - print the metadata for each track
#    -cacheTime=N          - set cache refresh time in seconds, default 1
#    -verbose=2            - output verbosely
#    
#    
# ================================================================
# ========   bigBedInfo   ====================================
# ================================================================
# ### kent source version 407 ###
# bigBedInfo - Show information about a bigBed file.
# usage:
#    bigBedInfo file.bb
# options:
#    -udcDir=/dir/to/cache - place to put cache for remote bigBed/bigWigs
#    -chroms - list all chromosomes and their sizes
#    -zooms - list all zoom levels and their sizes
#    -as - get autoSql spec
#    -extraIndex - list all the extra indexes
# 
# 
# ================================================================
# ========   bigBedSummary   ====================================
# ================================================================
# ### kent source version 407 ###
# bigBedSummary - Extract summary information from a bigBed file.
# usage:
#    bigBedSummary file.bb chrom start end dataPoints
# Get summary data from bigBed for indicated region, broken into
# dataPoints equal parts.  (Use dataPoints=1 for simple summary.)
# options:
#    -type=X where X is one of:
#          coverage - % of region that is covered (default)
#          mean - average depth of covered regions
#          min - minimum depth of covered regions
#          max - maximum depth of covered regions
#    -fields - print out information on fields in file.
#       If fields option is used, the chrom, start, end, dataPoints
#       parameters may be omitted
#    -udcDir=/dir/to/cache - place to put cache for remote bigBed/bigWigs
#    
# 
# ================================================================
# ========   bigWigInfo   ====================================
# ================================================================
# ### kent source version 407 ###
# bigWigInfo - Print out information about bigWig file.
# usage:
#    bigWigInfo file.bw
# options:
#    -udcDir=/dir/to/cache - place to put cache for remote bigBed/bigWigs
#    -chroms - list all chromosomes and their sizes
#    -zooms - list all zoom levels and their sizes
#    -minMax - list the min and max on a single line
# 
# 
# ================================================================
# ========   bigWigSummary   ====================================
# ================================================================
# ### kent source version 407 ###
# bigWigSummary - Extract summary information from a bigWig file.
# usage:
#    bigWigSummary file.bigWig chrom start end dataPoints
# Get summary data from bigWig for indicated region, broken into
# dataPoints equal parts.  (Use dataPoints=1 for simple summary.)
# 
# NOTE:  start and end coordinates are in BED format (0-based)
# 
# options:
#    -type=X where X is one of:
#          mean - average value in region (default)
#          min - minimum value in region
#          max - maximum value in region
#          std - standard deviation in region
#          coverage - % of region that is covered
#    -udcDir=/dir/to/cache - place to put cache for remote bigBed/bigWigs
